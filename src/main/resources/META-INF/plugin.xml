<idea-plugin>
  <id>com.liubs.jaredit</id>
  <name>JarEditor</name>
  <version>2.1.1</version>
  <vendor email="Liubsyy@gmail.com" url="https://github.com/Liubsyy/JarEditor">Liubsyy</vendor>

  <description><![CDATA[

    JarEditor is used to directly edit classes/resources in Jar without decompression.
    <br>
    It also supports adding/deleting/copying/pasting files/folders in Jar.

    ]]></description>

  <change-notes><![CDATA[

     <h3>2.1</h3>
      <ul>
        <li>Support javassist</li>
      </ul>

     <h3>1.5</h3>
      <ul>
        <li>Add link from source jar to class jar</li>
        <li>Class jar can import code from source jar if exists</li>
        <li>Preferences for -g:lines,vars,source</li>
        <li>The last saved content can be read when the file is reopened</li>
        <li>Can clean up temporarily saved directories</li>
        <li>Search the contents of the jar package</li>
        <li>Export source jar</li>
      </ul>

     <h3>1.4</h3>
      <ul>
        <li>Support kotlin</li>
        <li>Choose whether to compile or not</li>
        <li>SDK settings</li>
        <li>Support renaming file/directory</li>
        <li>Support pasting file/directory from clipboard</li>
        <li>Support copying file/directory to clipboard</li>
      </ul>

     <h3>1.3</h3>
      <ul>
        <li>Support choosing JDK for compilation</li>
        <li>Support SpringBoot FatJar</li>
      </ul>

      <h3>1.0-1.2</h3>
      <ul>
        <li>Init plugin</li>
        <li>Support adding/deleting file/directory in jar</li>
      </ul>
    ]]>
  </change-notes>

  <!-- please see https://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html for description -->
  <idea-version since-build="203"/>

  <!-- please see https://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
       on how to target different products -->
  <depends>com.intellij.modules.platform</depends>
  <depends>com.intellij.java</depends>


  <extensions defaultExtensionNs="com.intellij">
    <fileEditorProvider implementation="com.liubs.jareditor.editor.MyFileEditorProvider"/>

    <notificationGroup id="JarEditorNotice"
                       isLogByDefault="true"
                       displayType="BALLOON"/>

    <applicationService serviceImplementation="com.liubs.jareditor.persistent.SDKSettingStorage"/>

    <!-- EditorNotifications.Provider 2022.1 废弃API
    <editorNotificationProvider implementation="com.liubs.jareditor.editor.MyEditorNotification"/>
    -->

  </extensions>

  <actions>

      <group id="JarEditorProjectGroup"  text="JarEditor" description="JarEditor" popup="true">
          <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>

          <group id="jarEditorNew"  text="New" description="New" popup="true">
              <action id="jarEditorAddJavaFile" class="com.liubs.jareditor.action.JarEditorAddJavaFile" text="Class" description="NewClass" icon="AllIcons.Nodes.Class" />
              <action id="jarEditorAddKotlinFile" class="com.liubs.jareditor.action.JarEditorAddKotlinFile" text="Kotlin" description="NewKotlin" icon="MyIcons.KOTLIN_CLASS" />
              <action id="jarEditorAddResourceFile" class="com.liubs.jareditor.action.JarEditorAddResourceFile" text="File" description="NewFile" icon="AllIcons.FileTypes.Any_type" />
              <action id="jarEditorAddDirectory" class="com.liubs.jareditor.action.JarEditorAddDirectory" text="Directory" description="NewDirectory" icon="AllIcons.Nodes.Folder" />
          </group>

          <action id="jarEditorDeleteFiles" class="com.liubs.jareditor.action.JarEditorDeleteFiles" text="Delete" description="Delete"/>
          <action id="jarEditorRenameFile" class="com.liubs.jareditor.action.JarEditorRenameFile" text="Rename" description="Rename"/>
          <action id="jarEditorCopyFile" class="com.liubs.jareditor.action.JarEditorCopyFile" text="Copy" description="Copy"/>
          <action id="jarEditorPasteFile" class="com.liubs.jareditor.action.JarEditorPasteFile" text="Paste" description="Paste"/>

          <group id="jarEditorExport"  text="Export" description="Export" popup="true">
              <action id="jarEditorExportSourceJar" class="com.liubs.jareditor.action.JarEditorExportSourceJar" text="Source jar" description="Source jar"/>
          </group>

          <action id="jarEditorSearch" class="com.liubs.jareditor.action.JarEditorSearch" text="Search" description="Search" icon="AllIcons.Actions.Search"/>
      </group>

      <action id="jarEditorClear" class="com.liubs.jareditor.action.JarEditorClear" text="Clear saved files" description="Clear saved files" icon="MyIcons.CLEAN"/>
      <action id="jarEditorReset" class="com.liubs.jareditor.action.JarEditorReset" text="Reset editor content" description="Reset editor content" icon="MyIcons.RESET"/>

      <!--class bytes tool -->
      <group id="classBytesTool" text="Class bytes tool" description="Class bytes tool" icon="MyIcons.TOOL"  popup="true">
          <action id="javassistAction" class="com.liubs.jareditor.action.JavassistAction" text="Javassist" description="Javassist"/>
      </group>




  </actions>



</idea-plugin>